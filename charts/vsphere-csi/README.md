# vSphere TMM Helm Charts
WARNING: v1.x.x of this Helm chart contains breaking changes!
While it is possible to deploy CPI directly with this chart, beware of the resulting naming and complexity.

The Namespace for vSphere CSI in upstream has changed with version 2.3.0, its is now `vmware-system-csi` instead of `kube-system`. This chart should be unaffected, as you can freely change the Namespace.

## Adding this helm repository

To add the helm repository for the vSphere CSI driver, run the following commands:

```bash
helm repo add vsphere-tmm https://vsphere-tmm.github.io/helm-charts
helm search repo vsphere-csi
```

`values.yaml` files for the charts can be found in the `charts/[chartname]` directories.

## TL;DR

```console
$ helm repo add vsphere-tmm https://vsphere-tmm.github.io/helm-charts
$ helm install my-release vsphere-tmm/vsphere-csi
```

## Introduction

Unofficial repository of helm charts created by the vSphere Technical Marketing team.

## Prerequisites

- Kubernetes 1.12+
- Helm 3.1.0

## Installing the Chart

To install the chart with the release name `my-release`:

```console
helm install my-release vsphere-tmm/vsphere-csi
```

The command deploys vsphere-csi on the Kubernetes cluster in the default configuration. The [Parameters](#parameters) section lists the parameters that can be configured during installation.

> **Tip**: List all releases using `helm list`

## Uninstalling the Chart

To uninstall/delete the `my-release` deployment:

```console
helm delete my-release
```

The command removes all the Kubernetes components associated with the chart and deletes the release.

## Parameters

### Global parameters

| Name                      | Description                                               | Value        |
| ------------------------- | --------------------------------------------------------- | ------------ |
| `global.mode`             | String one of full, management, workload                  | `full`       |
| `global.imageRegistry`    | Global Docker image registry                              | `nil`        |
| `global.imagePullSecrets` | Global Docker registry secret names as an array           | `[]`         |
| `global.storageClass`     | Global StorageClass for Persistent Volume(s)              | `nil`        |
| `global.logLevel`         | Global logLevel for CSI, can be PRODUCTION or DEVELOPMENT | `PRODUCTION` |

### global.config Global Configuration for both CPI and CSI

| Name                                           | Description                                                                                                        | Value         |
| ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ | ------------- |
| `global.config.csidriver.enabled`              | Enable CSI-Driver                                                                                                  | `true`        |
| `global.config.existingSecret`                 | Use existing secret for csi-vsphere.conf                                                                           | `nil`         |
| `global.config.storageclass.enabled`           | Enable creation of StorageClass                                                                                    | `false`       |
| `global.config.storageclass.name`              | Set storageClass name                                                                                              | `vsphere-csi` |
| `global.config.storageclass.storagepolicyname` | Set storagePolicyName                                                                                              | `""`          |
| `global.config.storageclass.expansion`         | Enable VolumeExpansion for storageclass, see https://vsphere-csi-driver.sigs.k8s.io/features/volume_expansion.html | `false`       |
| `global.config.storageclass.default`           | Make created storageClass default                                                                                  | `false`       |
| `global.config.storageclass.reclaimPolicy`     | Set reclaimPolicy for storageclass                                                                                 | `Delete`      |
| `global.config.netconfig`                      | Configure Network config for Filebased-Volumes                                                                     | `{}`          |

### global.config.global Global properties in this section will be used for all specified vCenters unless overridden in VirtualCenter section.

| Name                                 | Description                                                       | Value  |
| ------------------------------------ | ----------------------------------------------------------------- | ------ |
| `global.config.global.port`          | Default port to use if not specified different for vCenter        | `443`  |
| `global.config.global.insecure-flag` | Whether to default to insecure connections to vCenters by default | `true` |
| `global.config.vcenter`              | vCenter-specific configuration                                    | `{}`   |
| `global.config.labels`               | Used to configure Toplogy-awareness                               | `{}`   |

### Common parameters

| Name                | Description                                        | Value           |
| ------------------- | -------------------------------------------------- | --------------- |
| `kubeVersion`       | Override Kubernetes version                        | `nil`           |
| `nameOverride`      | String to partially override common.names.fullname | `nil`           |
| `fullnameOverride`  | String to fully override common.names.fullname     | `nil`           |
| `commonLabels`      | Labels to add to all deployed objects              | `{}`            |
| `commonAnnotations` | Annotations to add to all deployed objects         | `{}`            |
| `clusterDomain`     | Kubernetes cluster domain name                     | `cluster.local` |
| `extraDeploy`       | Array of extra objects to deploy with the release  | `[]`            |

### Traffic Exposure Parameters

| Name                               | Description                                           | Value       |
| ---------------------------------- | ----------------------------------------------------- | ----------- |
| `service.type`                     | vsphere-csi service type                              | `ClusterIP` |
| `service.port`                     | vsphere-csi service HTTP port                         | `80`        |
| `service.httpsPort`                | vsphere-csi service HTTPS port                        | `443`       |
| `service.nodePorts.http`           | Node port for HTTP                                    | `nil`       |
| `service.nodePorts.https`          | Node port for HTTPS                                   | `nil`       |
| `service.clusterIP`                | vsphere-csi service Cluster IP                        | `nil`       |
| `service.loadBalancerIP`           | vsphere-csi service Load Balancer IP                  | `nil`       |
| `service.loadBalancerSourceRanges` | vsphere-csi service Load Balancer sources             | `[]`        |
| `service.externalTrafficPolicy`    | vsphere-csi service external traffic policy           | `Cluster`   |
| `service.annotations`              | Additional custom annotations for vsphere-csi service | `{}`        |

### controller Parameters

| Name                                                          | Description                                                                                               | Value                                                                                                                                                                                                                                                                          |
| ------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `controller.name`                                             | name used for the deployment, if unset defaults to "{{ template "common.names.fullname" . }}"             | `vsphere-csi-controller`                                                                                                                                                                                                                                                       |
| `controller.config`                                           | block to freely define options for the controller configmap                                               | `{}`                                                                                                                                                                                                                                                                           |
| `controller.image.registry`                                   | controller image registry                                                                                 | `gcr.io`                                                                                                                                                                                                                                                                       |
| `controller.image.repository`                                 | controller image repository                                                                               | `cloud-provider-vsphere/csi/release/driver`                                                                                                                                                                                                                                    |
| `controller.image.tag`                                        | controller image tag (immutable tags are recommended)                                                     | `v3.5.0`                                                                                                                                                                                                                                                                       |
| `controller.image.pullPolicy`                                 | controller image pull policy                                                                              | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.image.pullSecrets`                                | controller image pull secrets                                                                             | `[]`                                                                                                                                                                                                                                                                           |
| `controller.image.debug`                                      | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.csiNamespace`                                     | CSI namespace (only relevant when global.mode is management)                                              | `nil`                                                                                                                                                                                                                                                                          |
| `controller.global.extraEnvVars`                              | Array with extra environment variables for all controller containers                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.global.extraEnvVarsCM`                            | Name of existing ConfigMap containing extra env vars for all controller containers                        | `nil`                                                                                                                                                                                                                                                                          |
| `controller.global.extraEnvVarsSecret`                        | Name of existing Secret containing extra env vars for all controller containers                           | `nil`                                                                                                                                                                                                                                                                          |
| `controller.global.extraVolumeMounts`                         | Optionally specify extra list of additional volumeMounts for all controller containers                    | `[]`                                                                                                                                                                                                                                                                           |
| `controller.resizer.image.registry`                           | controller.resizer image registry                                                                         | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `controller.resizer.image.repository`                         | controller.resizer image repository                                                                       | `sig-storage/csi-resizer`                                                                                                                                                                                                                                                      |
| `controller.resizer.image.tag`                                | controller.resizer image tag (immutable tags are recommended)                                             | `v1.10.1`                                                                                                                                                                                                                                                                      |
| `controller.resizer.image.pullPolicy`                         | controller.resizer image pull policy                                                                      | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.resizer.image.pullSecrets`                        | controller.resizer image pull secrets                                                                     | `[]`                                                                                                                                                                                                                                                                           |
| `controller.resizer.image.debug`                              | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.resizer.lifecycleHooks`                           | for the controller.resizer container(s) to automate configuration before or after startup                 | `{}`                                                                                                                                                                                                                                                                           |
| `controller.extraEnvVars`                                     | Array with extra environment variables to add to controller.resizer nodes                                 | `[]`                                                                                                                                                                                                                                                                           |
| `controller.resizer.containerSecurityContext.enabled`         | Enabled controller.resizer containers' Security Context                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.resizer.containerSecurityContext.runAsUser`       | Set controller.resizer containers' Security Context runAsUser                                             | `1001`                                                                                                                                                                                                                                                                         |
| `controller.resizer.command`                                  | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.resizer.args`                                     | Override default container args (useful when using custom images)                                         | `["--v=4","--timeout=300s","--handle-volume-inuse-error=false","--csi-address=$(ADDRESS)","--kube-api-qps=100","--kube-api-burst=100","--leader-election","--leader-election-lease-duration=30s","--leader-election-renew-deadline=20s","--leader-election-retry-period=10s"]` |
| `controller.resizer.extraEnvVars`                             | Array with extra environment variables to add to controller.resizer nodes                                 | `[]`                                                                                                                                                                                                                                                                           |
| `controller.resizer.extraEnvVarsCM`                           | Name of existing ConfigMap containing extra env vars for controller.resizer nodes                         | `nil`                                                                                                                                                                                                                                                                          |
| `controller.resizer.extraEnvVarsSecret`                       | Name of existing Secret containing extra env vars for controller.resizer nodes                            | `nil`                                                                                                                                                                                                                                                                          |
| `controller.resizer.resources.limits`                         | The resources limits for the controller.resizer containers                                                | `{}`                                                                                                                                                                                                                                                                           |
| `controller.resizer.resources.requests`                       | The requested resources for the controller.resizer containers                                             | `{}`                                                                                                                                                                                                                                                                           |
| `controller.resizer.livenessProbe.enabled`                    | Enable livenessProbe on controller.resizer nodes                                                          | `false`                                                                                                                                                                                                                                                                        |
| `controller.resizer.livenessProbe.initialDelaySeconds`        | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `controller.resizer.livenessProbe.periodSeconds`              | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `controller.resizer.livenessProbe.timeoutSeconds`             | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `controller.resizer.livenessProbe.failureThreshold`           | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `controller.resizer.livenessProbe.successThreshold`           | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `controller.resizer.readinessProbe.enabled`                   | Enable readinessProbe on controller.resizer nodes                                                         | `false`                                                                                                                                                                                                                                                                        |
| `controller.resizer.readinessProbe.initialDelaySeconds`       | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.resizer.readinessProbe.periodSeconds`             | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.resizer.readinessProbe.timeoutSeconds`            | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.resizer.readinessProbe.failureThreshold`          | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.resizer.readinessProbe.successThreshold`          | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.resizer.customLivenessProbe`                      | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.resizer.customReadinessProbe`                     | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.resizer.extraVolumeMounts`                        | Optionally specify extra list of additional volumeMounts for the controller.resizer container(s)          | `[]`                                                                                                                                                                                                                                                                           |
| `controller.attacher.image.registry`                          | controller.attacher image registry                                                                        | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `controller.attacher.image.repository`                        | controller.attacher image repository                                                                      | `sig-storage/csi-attacher`                                                                                                                                                                                                                                                     |
| `controller.attacher.image.tag`                               | controller.attacher image tag (immutable tags are recommended)                                            | `v4.5.1`                                                                                                                                                                                                                                                                       |
| `controller.attacher.image.pullPolicy`                        | controller.attacher image pull policy                                                                     | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.attacher.image.pullSecrets`                       | controller.attacher image pull secrets                                                                    | `[]`                                                                                                                                                                                                                                                                           |
| `controller.attacher.image.debug`                             | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.attacher.lifecycleHooks`                          | for the controller.attacher container(s) to automate configuration before or after startup                | `{}`                                                                                                                                                                                                                                                                           |
| `controller.extraEnvVars`                                     | Array with extra environment variables to add to controller.attacher nodes                                | `[]`                                                                                                                                                                                                                                                                           |
| `controller.attacher.containerSecurityContext.enabled`        | Enabled controller.attacher containers' Security Context                                                  | `false`                                                                                                                                                                                                                                                                        |
| `controller.attacher.containerSecurityContext.runAsUser`      | Set controller.attacher containers' Security Context runAsUser                                            | `1001`                                                                                                                                                                                                                                                                         |
| `controller.attacher.command`                                 | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.attacher.args`                                    | Override default container args (useful when using custom images)                                         | `["--v=4","--timeout=300s","--csi-address=$(ADDRESS)","--leader-election","--leader-election-lease-duration=120s","--leader-election-renew-deadline=60s","--leader-election-retry-period=30s","--kube-api-qps=100","--kube-api-burst=100"]`                                    |
| `controller.attacher.extraEnvVars`                            | Array with extra environment variables to add to controller.attacher nodes                                | `[]`                                                                                                                                                                                                                                                                           |
| `controller.attacher.extraEnvVarsCM`                          | Name of existing ConfigMap containing extra env vars for controller.attacher nodes                        | `nil`                                                                                                                                                                                                                                                                          |
| `controller.attacher.extraEnvVarsSecret`                      | Name of existing Secret containing extra env vars for controller.attacher nodes                           | `nil`                                                                                                                                                                                                                                                                          |
| `controller.attacher.resources.limits`                        | The resources limits for the controller.attacher containers                                               | `{}`                                                                                                                                                                                                                                                                           |
| `controller.attacher.resources.requests`                      | The requested resources for the controller.attacher containers                                            | `{}`                                                                                                                                                                                                                                                                           |
| `controller.attacher.livenessProbe.enabled`                   | Enable livenessProbe on controller.attacher nodes                                                         | `false`                                                                                                                                                                                                                                                                        |
| `controller.attacher.livenessProbe.initialDelaySeconds`       | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `controller.attacher.livenessProbe.periodSeconds`             | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `controller.attacher.livenessProbe.timeoutSeconds`            | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `controller.attacher.livenessProbe.failureThreshold`          | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `controller.attacher.livenessProbe.successThreshold`          | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `controller.attacher.readinessProbe.enabled`                  | Enable readinessProbe on controller.attacher nodes                                                        | `false`                                                                                                                                                                                                                                                                        |
| `controller.attacher.readinessProbe.initialDelaySeconds`      | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.attacher.readinessProbe.periodSeconds`            | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.attacher.readinessProbe.timeoutSeconds`           | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.attacher.readinessProbe.failureThreshold`         | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.attacher.readinessProbe.successThreshold`         | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.attacher.customLivenessProbe`                     | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.attacher.customReadinessProbe`                    | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.attacher.extraVolumeMounts`                       | Optionally specify extra list of additional volumeMounts for the controller.attacher container(s)         | `[]`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.image.registry`                     | controller.livenessprobe image registry                                                                   | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `controller.livenessprobe.image.repository`                   | controller.livenessprobe image repository                                                                 | `sig-storage/livenessprobe`                                                                                                                                                                                                                                                    |
| `controller.livenessprobe.image.tag`                          | controller.livenessprobe image tag (immutable tags are recommended)                                       | `v2.12.0`                                                                                                                                                                                                                                                                      |
| `controller.livenessprobe.image.pullPolicy`                   | controller.livenessprobe image pull policy                                                                | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.livenessprobe.image.pullSecrets`                  | controller.livenessprobe image pull secrets                                                               | `[]`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.image.debug`                        | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.livenessprobe.lifecycleHooks`                     | for the controller.livenessprobe container(s) to automate configuration before or after startup           | `{}`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.extraEnvVars`                       | Array with extra environment variables to add to controller.livenessprobe nodes                           | `[]`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.containerSecurityContext.enabled`   | Enabled controller.livenessprobe containers' Security Context                                             | `false`                                                                                                                                                                                                                                                                        |
| `controller.livenessprobe.containerSecurityContext.runAsUser` | Set controller.livenessprobe containers' Security Context runAsUser                                       | `1001`                                                                                                                                                                                                                                                                         |
| `controller.livenessprobe.command`                            | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.args`                               | Override default container args (useful when using custom images)                                         | `["--v=4","--csi-address=/csi/csi.sock"]`                                                                                                                                                                                                                                      |
| `controller.livenessprobe.extraEnvVars`                       | Array with extra environment variables to add to controller.livenessprobe nodes                           | `[]`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.extraEnvVarsCM`                     | Name of existing ConfigMap containing extra env vars for controller.livenessprobe nodes                   | `nil`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.extraEnvVarsSecret`                 | Name of existing Secret containing extra env vars for controller.livenessprobe nodes                      | `nil`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.resources.limits`                   | The resources limits for the controller.livenessprobe containers                                          | `{}`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.resources.requests`                 | The requested resources for the controller.livenessprobe containers                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.livenessProbe.enabled`              | Enable livenessProbe on controller.livenessprobe nodes                                                    | `false`                                                                                                                                                                                                                                                                        |
| `controller.livenessprobe.livenessProbe.initialDelaySeconds`  | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.livenessProbe.periodSeconds`        | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.livenessProbe.timeoutSeconds`       | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.livenessProbe.failureThreshold`     | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.livenessProbe.successThreshold`     | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.readinessProbe.enabled`             | Enable readinessProbe on controller.livenessprobe nodes                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.livenessprobe.readinessProbe.initialDelaySeconds` | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.readinessProbe.periodSeconds`       | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.readinessProbe.timeoutSeconds`      | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.readinessProbe.failureThreshold`    | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.readinessProbe.successThreshold`    | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.livenessprobe.customLivenessProbe`                | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.customReadinessProbe`               | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.livenessprobe.extraVolumeMounts`                  | Optionally specify extra list of additional volumeMounts for the controller.livenessprobe container(s)    | `[]`                                                                                                                                                                                                                                                                           |
| `controller.syncer.image.registry`                            | controller.syncer image registry                                                                          | `gcr.io`                                                                                                                                                                                                                                                                       |
| `controller.syncer.image.repository`                          | controller.syncer image repository                                                                        | `cloud-provider-vsphere/csi/release/syncer`                                                                                                                                                                                                                                    |
| `controller.syncer.image.tag`                                 | controller.syncer image tag (immutable tags are recommended)                                              | `v3.5.0`                                                                                                                                                                                                                                                                       |
| `controller.syncer.image.pullPolicy`                          | controller.syncer image pull policy                                                                       | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.syncer.image.pullSecrets`                         | controller.syncer image pull secrets                                                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.syncer.image.debug`                               | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.syncer.lifecycleHooks`                            | for the controller.syncer container(s) to automate configuration before or after startup                  | `{}`                                                                                                                                                                                                                                                                           |
| `controller.syncer.extraEnvVars`                              | Array with extra environment variables to add to controller.syncer nodes                                  | `[]`                                                                                                                                                                                                                                                                           |
| `controller.syncer.containerSecurityContext.enabled`          | Enabled controller.syncer containers' Security Context                                                    | `true`                                                                                                                                                                                                                                                                         |
| `controller.syncer.containerSecurityContext.runAsUser`        | Set controller.syncer containers' Security Context runAsUser                                              | `65532`                                                                                                                                                                                                                                                                        |
| `controller.syncer.command`                                   | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.syncer.args`                                      | Override default container args (useful when using custom images)                                         | `["--leader-election","--leader-election-lease-duration=30s","--leader-election-renew-deadline=20s","--leader-election-retry-period=10s","--fss-name=internal-feature-states.csi.vsphere.vmware.com","--fss-namespace=$(CSI_NAMESPACE)"]`                                      |
| `controller.syncer.extraEnvVars`                              | Array with extra environment variables to add to controller.syncer nodes                                  | `[]`                                                                                                                                                                                                                                                                           |
| `controller.syncer.extraEnvVarsCM`                            | Name of existing ConfigMap containing extra env vars for controller.syncer nodes                          | `nil`                                                                                                                                                                                                                                                                          |
| `controller.syncer.extraEnvVarsSecret`                        | Name of existing Secret containing extra env vars for controller.syncer nodes                             | `nil`                                                                                                                                                                                                                                                                          |
| `controller.syncer.resources.limits`                          | The resources limits for the controller.syncer containers                                                 | `{}`                                                                                                                                                                                                                                                                           |
| `controller.syncer.resources.requests`                        | The requested resources for the controller.syncer containers                                              | `{}`                                                                                                                                                                                                                                                                           |
| `controller.syncer.livenessProbe.enabled`                     | Enable livenessProbe on controller.syncer nodes                                                           | `false`                                                                                                                                                                                                                                                                        |
| `controller.syncer.livenessProbe.initialDelaySeconds`         | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `controller.syncer.livenessProbe.periodSeconds`               | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `controller.syncer.livenessProbe.timeoutSeconds`              | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `controller.syncer.livenessProbe.failureThreshold`            | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `controller.syncer.livenessProbe.successThreshold`            | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `controller.syncer.readinessProbe.enabled`                    | Enable readinessProbe on controller.syncer nodes                                                          | `false`                                                                                                                                                                                                                                                                        |
| `controller.syncer.readinessProbe.initialDelaySeconds`        | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.syncer.readinessProbe.periodSeconds`              | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.syncer.readinessProbe.timeoutSeconds`             | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.syncer.readinessProbe.failureThreshold`           | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.syncer.readinessProbe.successThreshold`           | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.syncer.customLivenessProbe`                       | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.syncer.customReadinessProbe`                      | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.syncer.extraVolumeMounts`                         | Optionally specify extra list of additional volumeMounts for the controller.syncer container(s)           | `[]`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.image.registry`                       | controller.provisioner image registry                                                                     | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `controller.provisioner.image.repository`                     | controller.provisioner image repository                                                                   | `sig-storage/csi-provisioner`                                                                                                                                                                                                                                                  |
| `controller.provisioner.image.tag`                            | controller.provisioner image tag (immutable tags are recommended)                                         | `v4.0.1`                                                                                                                                                                                                                                                                       |
| `controller.provisioner.image.pullPolicy`                     | controller.provisioner image pull policy                                                                  | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.provisioner.image.pullSecrets`                    | controller.provisioner image pull secrets                                                                 | `[]`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.image.debug`                          | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.provisioner.lifecycleHooks`                       | for the controller.provisioner container(s) to automate configuration before or after startup             | `{}`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.extraEnvVars`                         | Array with extra environment variables to add to controller.provisioner nodes                             | `[]`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.containerSecurityContext.enabled`     | Enabled controller.provisioner containers' Security Context                                               | `false`                                                                                                                                                                                                                                                                        |
| `controller.provisioner.containerSecurityContext.runAsUser`   | Set controller.provisioner containers' Security Context runAsUser                                         | `1001`                                                                                                                                                                                                                                                                         |
| `controller.provisioner.command`                              | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.args`                                 | Override default container args (useful when using custom images)                                         | `["--v=4","--timeout=300s","--csi-address=$(ADDRESS)","--kube-api-qps=100","--kube-api-burst=100","--leader-election","--leader-election-lease-duration=120s","--leader-election-renew-deadline=60s","--leader-election-retry-period=30s","--default-fstype=ext4"]`            |
| `controller.provisioner.extraEnvVars`                         | Array with extra environment variables to add to controller.provisioner nodes                             | `[]`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.extraEnvVarsCM`                       | Name of existing ConfigMap containing extra env vars for controller.provisioner nodes                     | `nil`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.extraEnvVarsSecret`                   | Name of existing Secret containing extra env vars for controller.provisioner nodes                        | `nil`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.resources.limits`                     | The resources limits for the controller.provisioner containers                                            | `{}`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.resources.requests`                   | The requested resources for the controller.provisioner containers                                         | `{}`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.livenessProbe.enabled`                | Enable livenessProbe on controller.provisioner nodes                                                      | `false`                                                                                                                                                                                                                                                                        |
| `controller.provisioner.livenessProbe.initialDelaySeconds`    | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.livenessProbe.periodSeconds`          | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.livenessProbe.timeoutSeconds`         | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.livenessProbe.failureThreshold`       | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.livenessProbe.successThreshold`       | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.readinessProbe.enabled`               | Enable readinessProbe on controller.provisioner nodes                                                     | `false`                                                                                                                                                                                                                                                                        |
| `controller.provisioner.readinessProbe.initialDelaySeconds`   | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.readinessProbe.periodSeconds`         | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.readinessProbe.timeoutSeconds`        | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.readinessProbe.failureThreshold`      | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.readinessProbe.successThreshold`      | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.provisioner.customLivenessProbe`                  | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.customReadinessProbe`                 | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.provisioner.extraVolumeMounts`                    | Optionally specify extra list of additional volumeMounts for the controller.provisioner container(s)      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.image.registry`                       | controller.snapshotter image registry                                                                     | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `controller.snapshotter.image.repository`                     | controller.snapshotter image repository                                                                   | `sig-storage/csi-snapshotter`                                                                                                                                                                                                                                                  |
| `controller.snapshotter.image.tag`                            | controller.snapshotter image tag (immutable tags are recommended)                                         | `v7.0.2`                                                                                                                                                                                                                                                                       |
| `controller.snapshotter.image.pullPolicy`                     | controller.snapshotter image pull policy                                                                  | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `controller.snapshotter.image.pullSecrets`                    | controller.snapshotter image pull secrets                                                                 | `[]`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.image.debug`                          | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `controller.snapshotter.lifecycleHooks`                       | for the controller.snapshotter container(s) to automate configuration before or after startup             | `{}`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.extraEnvVars`                         | Array with extra environment variables to add to controller.snapshotter nodes                             | `[]`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.containerSecurityContext.enabled`     | Enabled controller.snapshotter containers' Security Context                                               | `false`                                                                                                                                                                                                                                                                        |
| `controller.snapshotter.containerSecurityContext.runAsUser`   | Set controller.snapshotter containers' Security Context runAsUser                                         | `1001`                                                                                                                                                                                                                                                                         |
| `controller.snapshotter.command`                              | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.args`                                 | Override default container args (useful when using custom images)                                         | `["--v=4","--kube-api-qps=100","--kube-api-burst=100","--timeout=300s","--csi-address=$(ADDRESS)","--leader-election","--leader-election-lease-duration=120s","--leader-election-renew-deadline=60s","--leader-election-retry-period=30s"]`                                    |
| `controller.snapshotter.extraEnvVars`                         | Array with extra environment variables to add to controller.snapshotter nodes                             | `[]`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.extraEnvVarsCM`                       | Name of existing ConfigMap containing extra env vars for controller.snapshotter nodes                     | `nil`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.extraEnvVarsSecret`                   | Name of existing Secret containing extra env vars for controller.snapshotter nodes                        | `nil`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.resources.limits`                     | The resources limits for the controller.snapshotter containers                                            | `{}`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.resources.requests`                   | The requested resources for the controller.snapshotter containers                                         | `{}`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.livenessProbe.enabled`                | Enable livenessProbe on controller.snapshotter nodes                                                      | `false`                                                                                                                                                                                                                                                                        |
| `controller.snapshotter.livenessProbe.initialDelaySeconds`    | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.livenessProbe.periodSeconds`          | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.livenessProbe.timeoutSeconds`         | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.livenessProbe.failureThreshold`       | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.livenessProbe.successThreshold`       | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.readinessProbe.enabled`               | Enable readinessProbe on controller.snapshotter nodes                                                     | `false`                                                                                                                                                                                                                                                                        |
| `controller.snapshotter.readinessProbe.initialDelaySeconds`   | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.readinessProbe.periodSeconds`         | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.readinessProbe.timeoutSeconds`        | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.readinessProbe.failureThreshold`      | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.readinessProbe.successThreshold`      | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.snapshotter.customLivenessProbe`                  | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.customReadinessProbe`                 | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.snapshotter.extraVolumeMounts`                    | Optionally specify extra list of additional volumeMounts for the controller.snapshotter container(s)      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.replicaCount`                                     | Number of controller replicas to deploy                                                                   | `3`                                                                                                                                                                                                                                                                            |
| `controller.livenessProbe.enabled`                            | Enable livenessProbe on controller nodes                                                                  | `true`                                                                                                                                                                                                                                                                         |
| `controller.livenessProbe.httpGet.path`                       | Path for HTTPGet Livenessprobe                                                                            | `/healthz`                                                                                                                                                                                                                                                                     |
| `controller.livenessProbe.httpGet.port`                       | Path for HTTPGet Livenessprobe                                                                            | `healthz`                                                                                                                                                                                                                                                                      |
| `controller.livenessProbe.initialDelaySeconds`                | Initial delay seconds for livenessProbe                                                                   | `25`                                                                                                                                                                                                                                                                           |
| `controller.livenessProbe.periodSeconds`                      | Period seconds for livenessProbe                                                                          | `5`                                                                                                                                                                                                                                                                            |
| `controller.livenessProbe.timeoutSeconds`                     | Timeout seconds for livenessProbe                                                                         | `3`                                                                                                                                                                                                                                                                            |
| `controller.livenessProbe.failureThreshold`                   | Failure threshold for livenessProbe                                                                       | `3`                                                                                                                                                                                                                                                                            |
| `controller.readinessProbe.enabled`                           | Enable readinessProbe on controller nodes                                                                 | `false`                                                                                                                                                                                                                                                                        |
| `controller.readinessProbe.initialDelaySeconds`               | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `controller.readinessProbe.periodSeconds`                     | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `controller.readinessProbe.timeoutSeconds`                    | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `controller.readinessProbe.failureThreshold`                  | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `controller.readinessProbe.successThreshold`                  | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `controller.customLivenessProbe`                              | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `controller.customReadinessProbe`                             | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `controller.dnsPolicy`                                        | set DNS Policy                                                                                            | `Default`                                                                                                                                                                                                                                                                      |
| `controller.resources.limits`                                 | The resources limits for the controller containers                                                        | `{}`                                                                                                                                                                                                                                                                           |
| `controller.resources.requests`                               | The requested resources for the controller containers                                                     | `{}`                                                                                                                                                                                                                                                                           |
| `controller.podSecurityContext.enabled`                       | Enabled controller pods' Security Context                                                                 | `false`                                                                                                                                                                                                                                                                        |
| `controller.podSecurityContext.fsGroup`                       | Set controller pod's Security Context fsGroup                                                             | `1001`                                                                                                                                                                                                                                                                         |
| `controller.containerSecurityContext.enabled`                 | Enabled controller containers' Security Context                                                           | `true`                                                                                                                                                                                                                                                                         |
| `controller.containerSecurityContext.runAsUser`               | Set controller containers' Security Context runAsUser                                                     | `65532`                                                                                                                                                                                                                                                                        |
| `controller.existingConfigmap`                                | The name of an existing ConfigMap with your custom configuration for controller                           | `nil`                                                                                                                                                                                                                                                                          |
| `controller.command`                                          | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `controller.args`                                             | Override default container args (useful when using custom images)                                         | `["--fss-name=internal-feature-states.csi.vsphere.vmware.com","--fss-namespace=$(CSI_NAMESPACE)"]`                                                                                                                                                                             |
| `controller.hostAliases`                                      | controller pods host aliases                                                                              | `[]`                                                                                                                                                                                                                                                                           |
| `controller.podLabels`                                        | Extra labels for controller pods                                                                          | `{}`                                                                                                                                                                                                                                                                           |
| `controller.podAnnotations`                                   | Annotations for controller pods                                                                           | `{}`                                                                                                                                                                                                                                                                           |
| `controller.podAffinityPreset`                                | Pod affinity preset. Ignored if `controller.affinity` is set. Allowed values: `soft` or `hard`            | `""`                                                                                                                                                                                                                                                                           |
| `controller.podAntiAffinityPreset`                            | Pod anti-affinity preset. Ignored if `controller.affinity` is set. Allowed values: `soft` or `hard`       | `soft`                                                                                                                                                                                                                                                                         |
| `controller.nodeAffinityPreset.type`                          | Node affinity preset type. Ignored if `controller.affinity` is set. Allowed values: `soft` or `hard`      | `""`                                                                                                                                                                                                                                                                           |
| `controller.nodeAffinityPreset.key`                           | Node label key to match. Ignored if `controller.affinity` is set                                          | `""`                                                                                                                                                                                                                                                                           |
| `controller.nodeAffinityPreset.values`                        | Node label values to match. Ignored if `controller.affinity` is set                                       | `[]`                                                                                                                                                                                                                                                                           |
| `controller.affinity`                                         | Affinity for controller pods assignment                                                                   | `undefined`                                                                                                                                                                                                                                                                    |
| `controller.nodeSelector`                                     | Node labels for controller pods assignment                                                                | `{}`                                                                                                                                                                                                                                                                           |
| `controller.tolerations`                                      | Tolerations for controller pods assignment                                                                | `[]`                                                                                                                                                                                                                                                                           |
| `controller.updateStrategy`                                   | Allows setting of the updateStrategy for the node daemonset, this can be any valid updateStrategy type    |                                                                                                                                                                                                                                                                                |
| `controller.updateStrategy.type`                              | controller statefulset strategy type                                                                      | `RollingUpdate`                                                                                                                                                                                                                                                                |
| `controller.priorityClassName`                                | controller pods' priorityClassName                                                                        | `system-cluster-critical`                                                                                                                                                                                                                                                      |
| `controller.lifecycleHooks`                                   | for the controller container(s) to automate configuration before or after startup                         | `{}`                                                                                                                                                                                                                                                                           |
| `controller.extraEnvVars`                                     | Array with extra environment variables to add to controller nodes                                         | `[]`                                                                                                                                                                                                                                                                           |
| `controller.extraEnvVarsCM`                                   | Name of existing ConfigMap containing extra env vars for controller nodes                                 | `nil`                                                                                                                                                                                                                                                                          |
| `controller.extraEnvVarsSecret`                               | Name of existing Secret containing extra env vars for controller nodes                                    | `nil`                                                                                                                                                                                                                                                                          |
| `controller.extraVolumes`                                     | Optionally specify extra list of additional volumes for the controller pod(s)                             | `[]`                                                                                                                                                                                                                                                                           |
| `controller.extraVolumeMounts`                                | Optionally specify extra list of additional volumeMounts for the controller container(s)                  | `[]`                                                                                                                                                                                                                                                                           |
| `controller.sidecars`                                         | Add additional sidecar containers to the controller pod(s)                                                | `{}`                                                                                                                                                                                                                                                                           |
| `controller.initContainers`                                   | Add additional init containers to the controller pod(s)                                                   | `{}`                                                                                                                                                                                                                                                                           |
| `controller.serviceAccount.create`                            | Specifies whether a ServiceAccount should be created                                                      | `true`                                                                                                                                                                                                                                                                         |
| `controller.serviceAccount.name`                              | The name of the ServiceAccount to use.                                                                    | `""`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.name`                                        | name used for the deployment, if unset defaults to "{{ template "common.names.fullname" . }}"             | `vsphere-csi-snapshotwebhook`                                                                                                                                                                                                                                                  |
| `snapshotwebhook.image.registry`                              | snapshotwebhook image registry                                                                            | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `snapshotwebhook.image.repository`                            | snapshotwebhook image repository                                                                          | `sig-storage/snapshot-validation-webhook`                                                                                                                                                                                                                                      |
| `snapshotwebhook.image.tag`                                   | snapshotwebhook image tag (immutable tags are recommended)                                                | `v7.0.2`                                                                                                                                                                                                                                                                       |
| `snapshotwebhook.image.pullPolicy`                            | snapshotwebhook image pull policy                                                                         | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `snapshotwebhook.image.pullSecrets`                           | snapshotwebhook image pull secrets                                                                        | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.image.debug`                                 | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `snapshotwebhook.replicaCount`                                | Number of snapshotwebhook replicas to deploy                                                              | `3`                                                                                                                                                                                                                                                                            |
| `snapshotwebhook.livenessProbe.enabled`                       | Enable livenessProbe on snapshotwebhook nodes                                                             | `false`                                                                                                                                                                                                                                                                        |
| `snapshotwebhook.livenessProbe.httpGet.path`                  | Path for HTTPGet Livenessprobe                                                                            | `/healthz`                                                                                                                                                                                                                                                                     |
| `snapshotwebhook.livenessProbe.httpGet.port`                  | Path for HTTPGet Livenessprobe                                                                            | `healthz`                                                                                                                                                                                                                                                                      |
| `snapshotwebhook.livenessProbe.initialDelaySeconds`           | Initial delay seconds for livenessProbe                                                                   | `30`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.livenessProbe.periodSeconds`                 | Period seconds for livenessProbe                                                                          | `10`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.livenessProbe.timeoutSeconds`                | Timeout seconds for livenessProbe                                                                         | `180`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.livenessProbe.failureThreshold`              | Failure threshold for livenessProbe                                                                       | `3`                                                                                                                                                                                                                                                                            |
| `snapshotwebhook.readinessProbe.enabled`                      | Enable readinessProbe on snapshotwebhook nodes                                                            | `false`                                                                                                                                                                                                                                                                        |
| `snapshotwebhook.readinessProbe.initialDelaySeconds`          | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.readinessProbe.periodSeconds`                | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.readinessProbe.timeoutSeconds`               | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.readinessProbe.failureThreshold`             | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.readinessProbe.successThreshold`             | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.customLivenessProbe`                         | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.customReadinessProbe`                        | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.dnsPolicy`                                   | set DNS Policy                                                                                            | `Default`                                                                                                                                                                                                                                                                      |
| `snapshotwebhook.resources.limits`                            | The resources limits for the snapshotwebhook containers                                                   | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.resources.requests`                          | The requested resources for the snapshotwebhook containers                                                | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.podSecurityContext.enabled`                  | Enabled snapshotwebhook pods' Security Context                                                            | `false`                                                                                                                                                                                                                                                                        |
| `snapshotwebhook.podSecurityContext.fsGroup`                  | Set snapshotwebhook pod's Security Context fsGroup                                                        | `1001`                                                                                                                                                                                                                                                                         |
| `snapshotwebhook.containerSecurityContext.enabled`            | Enabled snapshotwebhook containers' Security Context                                                      | `false`                                                                                                                                                                                                                                                                        |
| `snapshotwebhook.containerSecurityContext.runAsUser`          | Set snapshotwebhook containers' Security Context runAsUser                                                | `1001`                                                                                                                                                                                                                                                                         |
| `snapshotwebhook.existingConfigmap`                           | The name of an existing ConfigMap with your custom configuration for snapshotwebhook                      | `nil`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.command`                                     | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.args`                                        | Override default container args (useful when using custom images)                                         | `["--tls-cert-file=/run/secrets/tls/tls.crt","--tls-private-key-file=/run/secrets/tls/tls.key"]`                                                                                                                                                                               |
| `snapshotwebhook.hostAliases`                                 | snapshotwebhook pods host aliases                                                                         | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.podLabels`                                   | Extra labels for snapshotwebhook pods                                                                     | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.podAnnotations`                              | Annotations for snapshotwebhook pods                                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.podAffinityPreset`                           | Pod affinity preset. Ignored if `snapshotwebhook.affinity` is set. Allowed values: `soft` or `hard`       | `""`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.podAntiAffinityPreset`                       | Pod anti-affinity preset. Ignored if `snapshotwebhook.affinity` is set. Allowed values: `soft` or `hard`  | `soft`                                                                                                                                                                                                                                                                         |
| `snapshotwebhook.nodeAffinityPreset.type`                     | Node affinity preset type. Ignored if `snapshotwebhook.affinity` is set. Allowed values: `soft` or `hard` | `""`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.nodeAffinityPreset.key`                      | Node label key to match. Ignored if `snapshotwebhook.affinity` is set                                     | `""`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.nodeAffinityPreset.values`                   | Node label values to match. Ignored if `snapshotwebhook.affinity` is set                                  | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.affinity`                                    | Affinity for snapshotwebhook pods assignment                                                              | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.nodeSelector`                                | Node labels for snapshotwebhook pods assignment                                                           | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.tolerations`                                 | Tolerations for snapshotwebhook pods assignment                                                           | `see values.yaml`                                                                                                                                                                                                                                                              |
| `snapshotwebhook.updateStrategy.type`                         | snapshotwebhook statefulset strategy type                                                                 | `RollingUpdate`                                                                                                                                                                                                                                                                |
| `snapshotwebhook.priorityClassName`                           | snapshotwebhook pods' priorityClassName                                                                   | `system-node-critical`                                                                                                                                                                                                                                                         |
| `snapshotwebhook.lifecycleHooks`                              | for the snapshotwebhook container(s) to automate configuration before or after startup                    | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.extraEnvVars`                                | Array with extra environment variables to add to snapshotwebhook nodes                                    | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.extraEnvVarsCM`                              | Name of existing ConfigMap containing extra env vars for snapshotwebhook nodes                            | `nil`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.extraEnvVarsSecret`                          | Name of existing Secret containing extra env vars for snapshotwebhook nodes                               | `nil`                                                                                                                                                                                                                                                                          |
| `snapshotwebhook.extraVolumes`                                | Optionally specify extra list of additional volumes for the snapshotwebhook pod(s)                        | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.extraVolumeMounts`                           | Optionally specify extra list of additional volumeMounts for the snapshotwebhook container(s)             | `[]`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.sidecars`                                    | Add additional sidecar containers to the snapshotwebhook pod(s)                                           | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.initContainers`                              | Add additional init containers to the snapshotwebhook pod(s)                                              | `{}`                                                                                                                                                                                                                                                                           |
| `snapshotwebhook.serviceAccount.create`                       | Specifies whether a ServiceAccount should be created                                                      | `true`                                                                                                                                                                                                                                                                         |
| `snapshotwebhook.serviceAccount.name`                         | The name of the ServiceAccount to use.                                                                    | `""`                                                                                                                                                                                                                                                                           |
| `node.name`                                                   | name used for the demonset, if unset defaults to "{{ template "common.names.fullname" . }}"               | `vsphere-csi-node`                                                                                                                                                                                                                                                             |
| `node.image.registry`                                         | node image registry                                                                                       | `gcr.io`                                                                                                                                                                                                                                                                       |
| `node.image.repository`                                       | node image repository                                                                                     | `cloud-provider-vsphere/csi/release/driver`                                                                                                                                                                                                                                    |
| `node.image.tag`                                              | node image tag (immutable tags are recommended)                                                           | `v3.5.0`                                                                                                                                                                                                                                                                       |
| `node.image.pullPolicy`                                       | node image pull policy                                                                                    | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `node.image.pullSecrets`                                      | node image pull secrets                                                                                   | `[]`                                                                                                                                                                                                                                                                           |
| `node.image.debug`                                            | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `node.registrar.image.registry`                               | node image registry                                                                                       | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `node.registrar.image.repository`                             | node image repository                                                                                     | `sig-storage/csi-node-driver-registrar`                                                                                                                                                                                                                                        |
| `node.registrar.image.tag`                                    | node image tag (immutable tags are recommended)                                                           | `v2.10.1`                                                                                                                                                                                                                                                                      |
| `node.registrar.image.pullPolicy`                             | node image pull policy                                                                                    | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `node.registrar.image.pullSecrets`                            | node image pull secrets                                                                                   | `[]`                                                                                                                                                                                                                                                                           |
| `node.registrar.image.debug`                                  | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `node.registrar.lifecycleHooks`                               | for the node.registrar container(s) to automate configuration before or after startup                     | `{}`                                                                                                                                                                                                                                                                           |
| `node.registrar.extraEnvVars`                                 | Array with extra environment variables to add to node.registrar nodes                                     | `[]`                                                                                                                                                                                                                                                                           |
| `node.registrar.containerSecurityContext.enabled`             | Enabled node.registrar containers' Security Context                                                       | `false`                                                                                                                                                                                                                                                                        |
| `node.registrar.command`                                      | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `node.registrar.args`                                         | Override default container args (useful when using custom images)                                         | `["--v=5","--csi-address=$(ADDRESS)","--kubelet-registration-path=$(DRIVER_REG_SOCK_PATH)"]`                                                                                                                                                                                   |
| `node.registrar.extraEnvVars`                                 | Array with extra environment variables to add to node.registrar nodes                                     | `[]`                                                                                                                                                                                                                                                                           |
| `node.registrar.extraEnvVarsCM`                               | Name of existing ConfigMap containing extra env vars for node.registrar nodes                             | `nil`                                                                                                                                                                                                                                                                          |
| `node.registrar.extraEnvVarsSecret`                           | Name of existing Secret containing extra env vars for node.registrar nodes                                | `nil`                                                                                                                                                                                                                                                                          |
| `node.registrar.resources.limits`                             | The resources limits for the node.registrar containers                                                    | `{}`                                                                                                                                                                                                                                                                           |
| `node.registrar.resources.requests`                           | The requested resources for the node.registrar containers                                                 | `{}`                                                                                                                                                                                                                                                                           |
| `node.registrar.livenessProbe.enabled`                        | Enable livenessProbe on node.registrar nodes                                                              | `true`                                                                                                                                                                                                                                                                         |
| `node.registrar.livenessProbe.httpGet.path`                   | Path for HTTPGet Livenessprobe                                                                            | `undefined`                                                                                                                                                                                                                                                                    |
| `node.registrar.livenessProbe.httpGet.port`                   | Path for HTTPGet Livenessprobe                                                                            | `undefined`                                                                                                                                                                                                                                                                    |
| `node.registrar.livenessProbe.initialDelaySeconds`            | Initial delay seconds for livenessProbe                                                                   | `3`                                                                                                                                                                                                                                                                            |
| `node.registrar.livenessProbe.timeoutSeconds`                 | Timeout seconds for livenessProbe                                                                         | `undefined`                                                                                                                                                                                                                                                                    |
| `node.registrar.livenessProbe.exec`                           | Command for Exec Livenessprobe                                                                            | `{}`                                                                                                                                                                                                                                                                           |
| `node.registrar.readinessProbe.enabled`                       | Enable readinessProbe on node.registrar nodes                                                             | `false`                                                                                                                                                                                                                                                                        |
| `node.registrar.readinessProbe.initialDelaySeconds`           | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `node.registrar.readinessProbe.periodSeconds`                 | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `node.registrar.readinessProbe.timeoutSeconds`                | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `node.registrar.readinessProbe.failureThreshold`              | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `node.registrar.readinessProbe.successThreshold`              | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `node.registrar.customLivenessProbe`                          | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `node.registrar.customReadinessProbe`                         | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `node.registrar.extraVolumeMounts`                            | Optionally specify extra list of additional volumeMounts for the node.registrar container(s)              | `[]`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.image.registry`                           | node image registry                                                                                       | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `node.livenessprobe.image.repository`                         | node image repository                                                                                     | `sig-storage/livenessprobe`                                                                                                                                                                                                                                                    |
| `node.livenessprobe.image.tag`                                | node image tag (immutable tags are recommended)                                                           | `v2.12.0`                                                                                                                                                                                                                                                                      |
| `node.livenessprobe.image.pullPolicy`                         | node image pull policy                                                                                    | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `node.livenessprobe.image.pullSecrets`                        | node image pull secrets                                                                                   | `[]`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.image.debug`                              | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `node.livenessprobe.lifecycleHooks`                           | for the node.livenessprobes container(s) to automate configuration before or after startup                | `{}`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.extraEnvVars`                             | Array with extra environment variables to add to node.livenessprobes nodes                                | `[]`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.containerSecurityContext.enabled`         | Enabled node.livenessprobes containers' Security Context                                                  | `false`                                                                                                                                                                                                                                                                        |
| `node.livenessprobe.command`                                  | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.args`                                     | Override default container args (useful when using custom images)                                         | `["--v=4","--csi-address=/csi/csi.sock"]`                                                                                                                                                                                                                                      |
| `node.livenessprobe.extraEnvVars`                             | Array with extra environment variables to add to node.livenessprobes nodes                                | `[]`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.extraEnvVarsCM`                           | Name of existing ConfigMap containing extra env vars for node.livenessprobes nodes                        | `nil`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.extraEnvVarsSecret`                       | Name of existing Secret containing extra env vars for node.livenessprobes nodes                           | `nil`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.resources.limits`                         | The resources limits for the node.livenessprobes containers                                               | `{}`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.resources.requests`                       | The requested resources for the node.livenessprobes containers                                            | `{}`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.livenessProbe.enabled`                    | Enable livenessProbe on node.livenessprobes nodes                                                         | `false`                                                                                                                                                                                                                                                                        |
| `node.livenessprobe.livenessProbe.initialDelaySeconds`        | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.livenessProbe.periodSeconds`              | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.livenessProbe.timeoutSeconds`             | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.livenessProbe.failureThreshold`           | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.livenessProbe.successThreshold`           | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.readinessProbe.enabled`                   | Enable readinessProbe on node.livenessprobes nodes                                                        | `false`                                                                                                                                                                                                                                                                        |
| `node.livenessprobe.readinessProbe.initialDelaySeconds`       | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.readinessProbe.periodSeconds`             | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.readinessProbe.timeoutSeconds`            | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.readinessProbe.failureThreshold`          | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.readinessProbe.successThreshold`          | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `node.livenessprobe.customLivenessProbe`                      | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.customReadinessProbe`                     | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `node.livenessprobe.extraVolumeMounts`                        | Optionally specify extra list of additional volumeMounts for the node.livenessprobes container(s)         | `[]`                                                                                                                                                                                                                                                                           |
| `node.livenessProbe.enabled`                                  | Enable livenessProbe on node nodes                                                                        | `true`                                                                                                                                                                                                                                                                         |
| `node.livenessProbe.httpGet.path`                             | Path for HTTPGet Livenessprobe                                                                            | `/healthz`                                                                                                                                                                                                                                                                     |
| `node.livenessProbe.httpGet.port`                             | Path for HTTPGet Livenessprobe                                                                            | `healthz`                                                                                                                                                                                                                                                                      |
| `node.livenessProbe.initialDelaySeconds`                      | Initial delay seconds for livenessProbe                                                                   | `10`                                                                                                                                                                                                                                                                           |
| `node.livenessProbe.periodSeconds`                            | Period seconds for livenessProbe                                                                          | `5`                                                                                                                                                                                                                                                                            |
| `node.livenessProbe.timeoutSeconds`                           | Timeout seconds for livenessProbe                                                                         | `5`                                                                                                                                                                                                                                                                            |
| `node.livenessProbe.failureThreshold`                         | Failure threshold for livenessProbe                                                                       | `3`                                                                                                                                                                                                                                                                            |
| `node.readinessProbe.enabled`                                 | Enable readinessProbe on node nodes                                                                       | `false`                                                                                                                                                                                                                                                                        |
| `node.readinessProbe.initialDelaySeconds`                     | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `node.readinessProbe.periodSeconds`                           | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `node.readinessProbe.timeoutSeconds`                          | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `node.readinessProbe.failureThreshold`                        | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `node.readinessProbe.successThreshold`                        | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `node.customLivenessProbe`                                    | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `node.customReadinessProbe`                                   | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `node.resources.limits`                                       | The resources limits for the node containers                                                              | `{}`                                                                                                                                                                                                                                                                           |
| `node.resources.requests`                                     | The requested resources for the node containers                                                           | `{}`                                                                                                                                                                                                                                                                           |
| `node.hostNetwork`                                            | set use of hostNetwork for node containers                                                                | `true`                                                                                                                                                                                                                                                                         |
| `node.dnsPolicy`                                              | set DNS Policy                                                                                            | `ClusterFirstWithHostNet`                                                                                                                                                                                                                                                      |
| `node.podSecurityContext.enabled`                             | Enabled node pods' Security Context                                                                       | `false`                                                                                                                                                                                                                                                                        |
| `node.podSecurityContext.fsGroup`                             | Set node pod's Security Context fsGroup                                                                   | `1001`                                                                                                                                                                                                                                                                         |
| `node.containerSecurityContext.enabled`                       | Enabled node containers' Security Context                                                                 | `true`                                                                                                                                                                                                                                                                         |
| `node.containerSecurityContext.privileged`                    | Set node containers' Security Context privileged                                                          | `true`                                                                                                                                                                                                                                                                         |
| `node.containerSecurityContext.allowPrivilegeEscalation`      | Set node containers' Security Context allowPrivilegeEscalation                                            | `true`                                                                                                                                                                                                                                                                         |
| `node.existingConfigmap`                                      | The name of an existing ConfigMap with your custom configuration for node                                 | `nil`                                                                                                                                                                                                                                                                          |
| `node.command`                                                | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `node.args`                                                   | Override default container args (useful when using custom images)                                         | `["--fss-name=internal-feature-states.csi.vsphere.vmware.com","--fss-namespace=$(CSI_NAMESPACE)"]`                                                                                                                                                                             |
| `node.hostAliases`                                            | node pods host aliases                                                                                    | `[]`                                                                                                                                                                                                                                                                           |
| `node.podLabels`                                              | Extra labels for node pods                                                                                | `{}`                                                                                                                                                                                                                                                                           |
| `node.podAnnotations`                                         | Annotations for node pods                                                                                 | `{}`                                                                                                                                                                                                                                                                           |
| `node.podAffinityPreset`                                      | Pod affinity preset. Ignored if `node.affinity` is set. Allowed values: `soft` or `hard`                  | `""`                                                                                                                                                                                                                                                                           |
| `node.podAntiAffinityPreset`                                  | Pod anti-affinity preset. Ignored if `node.affinity` is set. Allowed values: `soft` or `hard`             | `soft`                                                                                                                                                                                                                                                                         |
| `node.nodeAffinityPreset.type`                                | Node affinity preset type. Ignored if `node.affinity` is set. Allowed values: `soft` or `hard`            | `""`                                                                                                                                                                                                                                                                           |
| `node.nodeAffinityPreset.key`                                 | Node label key to match. Ignored if `node.affinity` is set                                                | `""`                                                                                                                                                                                                                                                                           |
| `node.nodeAffinityPreset.values`                              | Node label values to match. Ignored if `node.affinity` is set                                             | `[]`                                                                                                                                                                                                                                                                           |
| `node.affinity`                                               | Affinity for node pods assignment                                                                         | `{}`                                                                                                                                                                                                                                                                           |
| `node.nodeSelector`                                           | Node labels for node pods assignment                                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `node.tolerations`                                            | Tolerations for node pods assignment                                                                      | `see values.yaml`                                                                                                                                                                                                                                                              |
| `node.updateStrategy`                                         | Allows setting of the updateStrategy for the node daemonset, this can be any valid updateStrategy type    |                                                                                                                                                                                                                                                                                |
| `node.updateStrategy.type`                                    | node statefulset strategy type                                                                            | `RollingUpdate`                                                                                                                                                                                                                                                                |
| `node.priorityClassName`                                      | node pods' priorityClassName                                                                              | `system-node-critical`                                                                                                                                                                                                                                                         |
| `node.lifecycleHooks`                                         | for the node container(s) to automate configuration before or after startup                               | `{}`                                                                                                                                                                                                                                                                           |
| `node.maxVolumesPerNode`                                      | Maximum number of volumes that controller can publish to the node. If zero Kubernetes decide              | `59`                                                                                                                                                                                                                                                                           |
| `node.extraEnvVars`                                           | Array with extra environment variables to add to node nodes                                               | `[]`                                                                                                                                                                                                                                                                           |
| `node.extraEnvVarsCM`                                         | Name of existing ConfigMap containing extra env vars for node nodes                                       | `nil`                                                                                                                                                                                                                                                                          |
| `node.extraEnvVarsSecret`                                     | Name of existing Secret containing extra env vars for node nodes                                          | `nil`                                                                                                                                                                                                                                                                          |
| `node.extraVolumes`                                           | Optionally specify extra list of additional volumes for the node pod(s)                                   | `[]`                                                                                                                                                                                                                                                                           |
| `node.extraVolumeMounts`                                      | Optionally specify extra list of additional volumeMounts for the node container(s)                        | `[]`                                                                                                                                                                                                                                                                           |
| `node.sidecars`                                               | Add additional sidecar containers to the node pod(s)                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `node.initContainers`                                         | Add additional init containers to the node pod(s)                                                         | `{}`                                                                                                                                                                                                                                                                           |
| `node.serviceAccount.create`                                  | Specifies whether a ServiceAccount should be created                                                      | `true`                                                                                                                                                                                                                                                                         |
| `node.serviceAccount.name`                                    | The name of the ServiceAccount to use.                                                                    | `""`                                                                                                                                                                                                                                                                           |
| `winnode.name`                                                | name used for the demonset, if unset defaults to "{{ template "common.names.fullname" . }}"               | `vsphere-csi-node-windows`                                                                                                                                                                                                                                                     |
| `winnode.image.registry`                                      | node image registry                                                                                       | `gcr.io`                                                                                                                                                                                                                                                                       |
| `winnode.image.repository`                                    | node image repository                                                                                     | `cloud-provider-vsphere/csi/release/driver`                                                                                                                                                                                                                                    |
| `winnode.image.tag`                                           | node image tag (immutable tags are recommended)                                                           | `v3.5.0`                                                                                                                                                                                                                                                                       |
| `winnode.image.pullPolicy`                                    | node image pull policy                                                                                    | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `winnode.image.pullSecrets`                                   | node image pull secrets                                                                                   | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.image.debug`                                         | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `winnode.registrar.image.registry`                            | node image registry                                                                                       | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `winnode.registrar.image.repository`                          | node image repository                                                                                     | `sig-storage/csi-node-driver-registrar`                                                                                                                                                                                                                                        |
| `winnode.registrar.image.tag`                                 | node image tag (immutable tags are recommended)                                                           | `v2.10.1`                                                                                                                                                                                                                                                                      |
| `winnode.registrar.image.pullPolicy`                          | node image pull policy                                                                                    | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `winnode.registrar.image.pullSecrets`                         | node image pull secrets                                                                                   | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.image.debug`                               | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `winnode.registrar.lifecycleHooks`                            | for the winnode.registrar container(s) to automate configuration before or after startup                  | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.extraEnvVars`                              | Array with extra environment variables to add to winnode.registrar nodes                                  | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.containerSecurityContext.enabled`          | Enabled winnode.registrar containers' Security Context                                                    | `false`                                                                                                                                                                                                                                                                        |
| `winnode.registrar.command`                                   | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.args`                                      | Override default container args (useful when using custom images)                                         | `["--v=5","--csi-address=$(ADDRESS)","--kubelet-registration-path=$(DRIVER_REG_SOCK_PATH)"]`                                                                                                                                                                                   |
| `winnode.registrar.extraEnvVars`                              | Array with extra environment variables to add to winnode.registrar nodes                                  | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.extraEnvVarsCM`                            | Name of existing ConfigMap containing extra env vars for winnode.registrar nodes                          | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.extraEnvVarsSecret`                        | Name of existing Secret containing extra env vars for winnode.registrar nodes                             | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.resources.limits`                          | The resources limits for the winnode.registrar containers                                                 | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.resources.requests`                        | The requested resources for the winnode.registrar containers                                              | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.livenessProbe.enabled`                     | Enable livenessProbe on winnode.registrar nodes                                                           | `true`                                                                                                                                                                                                                                                                         |
| `winnode.registrar.livenessProbe.httpGet.path`                | Path for HTTPGet Livenessprobe                                                                            | `undefined`                                                                                                                                                                                                                                                                    |
| `winnode.registrar.livenessProbe.httpGet.port`                | Path for HTTPGet Livenessprobe                                                                            | `undefined`                                                                                                                                                                                                                                                                    |
| `winnode.registrar.livenessProbe.initialDelaySeconds`         | Initial delay seconds for livenessProbe                                                                   | `3`                                                                                                                                                                                                                                                                            |
| `winnode.registrar.livenessProbe.timeoutSeconds`              | Timeout seconds for livenessProbe                                                                         | `undefined`                                                                                                                                                                                                                                                                    |
| `winnode.registrar.readinessProbe.enabled`                    | Enable readinessProbe on winnode.registrar nodes                                                          | `false`                                                                                                                                                                                                                                                                        |
| `winnode.registrar.readinessProbe.initialDelaySeconds`        | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.readinessProbe.periodSeconds`              | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.readinessProbe.timeoutSeconds`             | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.readinessProbe.failureThreshold`           | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.readinessProbe.successThreshold`           | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.registrar.customLivenessProbe`                       | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.customReadinessProbe`                      | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.registrar.extraVolumeMounts`                         | Optionally specify extra list of additional volumeMounts for the winnode.registrar container(s)           | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.image.registry`                        | node image registry                                                                                       | `registry.k8s.io`                                                                                                                                                                                                                                                              |
| `winnode.livenessprobe.image.repository`                      | node image repository                                                                                     | `sig-storage/livenessprobe`                                                                                                                                                                                                                                                    |
| `winnode.livenessprobe.image.tag`                             | node image tag (immutable tags are recommended)S                                                          | `v2.12.0`                                                                                                                                                                                                                                                                      |
| `winnode.livenessprobe.image.pullPolicy`                      | node image pull policy                                                                                    | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `winnode.livenessprobe.image.pullSecrets`                     | node image pull secrets                                                                                   | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.image.debug`                           | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `winnode.livenessprobe.lifecycleHooks`                        | for the winnode.livenessprobes container(s) to automate configuration before or after startup             | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.extraEnvVars`                          | Array with extra environment variables to add to winnode.livenessprobes nodes                             | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.containerSecurityContext.enabled`      | Enabled winnode.livenessprobes containers' Security Context                                               | `false`                                                                                                                                                                                                                                                                        |
| `winnode.livenessprobe.command`                               | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.args`                                  | Override default container args (useful when using custom images)                                         | `["--v=4","--csi-address=/csi/csi.sock"]`                                                                                                                                                                                                                                      |
| `winnode.livenessprobe.extraEnvVars`                          | Array with extra environment variables to add to winnode.livenessprobes nodes                             | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.extraEnvVarsCM`                        | Name of existing ConfigMap containing extra env vars for winnode.livenessprobes nodes                     | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.extraEnvVarsSecret`                    | Name of existing Secret containing extra env vars for winnode.livenessprobes nodes                        | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.resources.limits`                      | The resources limits for the winnode.livenessprobes containers                                            | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.resources.requests`                    | The requested resources for the winnode.livenessprobes containers                                         | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.livenessProbe.enabled`                 | Enable livenessProbe on winnode.livenessprobes nodes                                                      | `false`                                                                                                                                                                                                                                                                        |
| `winnode.livenessprobe.livenessProbe.initialDelaySeconds`     | Initial delay seconds for livenessProbe                                                                   | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.livenessProbe.periodSeconds`           | Period seconds for livenessProbe                                                                          | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.livenessProbe.timeoutSeconds`          | Timeout seconds for livenessProbe                                                                         | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.livenessProbe.failureThreshold`        | Failure threshold for livenessProbe                                                                       | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.livenessProbe.successThreshold`        | Success threshold for livenessProbe                                                                       | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.readinessProbe.enabled`                | Enable readinessProbe on winnode.livenessprobes nodes                                                     | `false`                                                                                                                                                                                                                                                                        |
| `winnode.livenessprobe.readinessProbe.initialDelaySeconds`    | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.readinessProbe.periodSeconds`          | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.readinessProbe.timeoutSeconds`         | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.readinessProbe.failureThreshold`       | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.readinessProbe.successThreshold`       | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.livenessprobe.customLivenessProbe`                   | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.customReadinessProbe`                  | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.livenessprobe.extraVolumeMounts`                     | Optionally specify extra list of additional volumeMounts for the winnode.livenessprobes container(s)      | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.livenessProbe.enabled`                               | Enable livenessProbe on node nodes                                                                        | `true`                                                                                                                                                                                                                                                                         |
| `winnode.livenessProbe.httpGet.path`                          | Path for HTTPGet Livenessprobe                                                                            | `/healthz`                                                                                                                                                                                                                                                                     |
| `winnode.livenessProbe.httpGet.port`                          | Path for HTTPGet Livenessprobe                                                                            | `healthz`                                                                                                                                                                                                                                                                      |
| `winnode.livenessProbe.initialDelaySeconds`                   | Initial delay seconds for livenessProbe                                                                   | `10`                                                                                                                                                                                                                                                                           |
| `winnode.livenessProbe.periodSeconds`                         | Period seconds for livenessProbe                                                                          | `5`                                                                                                                                                                                                                                                                            |
| `winnode.livenessProbe.timeoutSeconds`                        | Timeout seconds for livenessProbe                                                                         | `5`                                                                                                                                                                                                                                                                            |
| `winnode.livenessProbe.failureThreshold`                      | Failure threshold for livenessProbe                                                                       | `3`                                                                                                                                                                                                                                                                            |
| `winnode.readinessProbe.enabled`                              | Enable readinessProbe on node nodes                                                                       | `false`                                                                                                                                                                                                                                                                        |
| `winnode.readinessProbe.initialDelaySeconds`                  | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.readinessProbe.periodSeconds`                        | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.readinessProbe.timeoutSeconds`                       | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.readinessProbe.failureThreshold`                     | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `winnode.readinessProbe.successThreshold`                     | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `winnode.customLivenessProbe`                                 | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.customReadinessProbe`                                | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.resources.limits`                                    | The resources limits for the node containers                                                              | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.resources.requests`                                  | The requested resources for the node containers                                                           | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.hostNetwork`                                         | set use of hostNetwork for node containers                                                                | `true`                                                                                                                                                                                                                                                                         |
| `winnode.dnsPolicy`                                           | set DNS Policy                                                                                            | `ClusterFirstWithHostNet`                                                                                                                                                                                                                                                      |
| `winnode.podSecurityContext.enabled`                          | Enabled node pods' Security Context                                                                       | `false`                                                                                                                                                                                                                                                                        |
| `winnode.podSecurityContext.fsGroup`                          | Set node pod's Security Context fsGroup                                                                   | `1001`                                                                                                                                                                                                                                                                         |
| `winnode.containerSecurityContext.enabled`                    | Enabled node containers' Security Context                                                                 | `true`                                                                                                                                                                                                                                                                         |
| `winnode.containerSecurityContext.privileged`                 | Set node containers' Security Context privileged                                                          | `true`                                                                                                                                                                                                                                                                         |
| `winnode.containerSecurityContext.allowPrivilegeEscalation`   | Set node containers' Security Context allowPrivilegeEscalation                                            | `true`                                                                                                                                                                                                                                                                         |
| `winnode.existingConfigmap`                                   | The name of an existing ConfigMap with your custom configuration for node                                 | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.command`                                             | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.args`                                                | Override default container args (useful when using custom images)                                         | `["--fss-name=internal-feature-states.csi.vsphere.vmware.com","--fss-namespace=$(CSI_NAMESPACE)"]`                                                                                                                                                                             |
| `winnode.hostAliases`                                         | node pods host aliases                                                                                    | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.podLabels`                                           | Extra labels for node pods                                                                                | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.podAnnotations`                                      | Annotations for node pods                                                                                 | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.podAffinityPreset`                                   | Pod affinity preset. Ignored if `winnode.affinity` is set. Allowed values: `soft` or `hard`               | `""`                                                                                                                                                                                                                                                                           |
| `winnode.podAntiAffinityPreset`                               | Pod anti-affinity preset. Ignored if `winnode.affinity` is set. Allowed values: `soft` or `hard`          | `soft`                                                                                                                                                                                                                                                                         |
| `winnode.nodeAffinityPreset.type`                             | Node affinity preset type. Ignored if `winnode.affinity` is set. Allowed values: `soft` or `hard`         | `""`                                                                                                                                                                                                                                                                           |
| `winnode.nodeAffinityPreset.key`                              | Node label key to match. Ignored if `winnode.affinity` is set                                             | `""`                                                                                                                                                                                                                                                                           |
| `winnode.nodeAffinityPreset.values`                           | Node label values to match. Ignored if `winnode.affinity` is set                                          | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.affinity`                                            | Affinity for node pods assignment                                                                         | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.nodeSelector`                                        | Node labels for node pods assignment                                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.tolerations`                                         | Tolerations for node pods assignment                                                                      | `see values.yaml`                                                                                                                                                                                                                                                              |
| `winnode.updateStrategy`                                      | Allows setting of the updateStrategy for the node daemonset, this can be any valid updateStrategy type    |                                                                                                                                                                                                                                                                                |
| `winnode.updateStrategy.type`                                 | node statefulset strategy type                                                                            | `RollingUpdate`                                                                                                                                                                                                                                                                |
| `winnode.priorityClassName`                                   | node pods' priorityClassName                                                                              | `system-node-critical`                                                                                                                                                                                                                                                         |
| `winnode.lifecycleHooks`                                      | for the node container(s) to automate configuration before or after startup                               | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.maxVolumesPerNode`                                   | Maximum number of volumes that controller can publish to the node. If zero Kubernetes decide              | `59`                                                                                                                                                                                                                                                                           |
| `winnode.extraEnvVars`                                        | Array with extra environment variables to add to node nodes                                               | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.extraEnvVarsCM`                                      | Name of existing ConfigMap containing extra env vars for node nodes                                       | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.extraEnvVarsSecret`                                  | Name of existing Secret containing extra env vars for node nodes                                          | `nil`                                                                                                                                                                                                                                                                          |
| `winnode.extraVolumes`                                        | Optionally specify extra list of additional volumes for the node pod(s)                                   | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.extraVolumeMounts`                                   | Optionally specify extra list of additional volumeMounts for the node container(s)                        | `[]`                                                                                                                                                                                                                                                                           |
| `winnode.sidecars`                                            | Add additional sidecar containers to the node pod(s)                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.initContainers`                                      | Add additional init containers to the node pod(s)                                                         | `{}`                                                                                                                                                                                                                                                                           |
| `winnode.serviceAccount.create`                               | Specifies whether a ServiceAccount should be created                                                      | `true`                                                                                                                                                                                                                                                                         |
| `winnode.kubelet.windowsPath`                                 | Path to kubelet location on the node                                                                      | `/var/lib/kubelet`                                                                                                                                                                                                                                                             |
| `winnode.serviceAccount.name`                                 | The name of the ServiceAccount to use.                                                                    | `""`                                                                                                                                                                                                                                                                           |
| `linuxnode.kubelet.linuxPath`                                 | Path to kubelet location on the node                                                                      | `/var/lib/kubelet`                                                                                                                                                                                                                                                             |
| `webhook.enabled`                                             | enable or disable webhook                                                                                 | `false`                                                                                                                                                                                                                                                                        |
| `webhook.image.registry`                                      | webhook image registry                                                                                    | `gcr.io`                                                                                                                                                                                                                                                                       |
| `webhook.image.repository`                                    | webhook image repository                                                                                  | `cloud-provider-vsphere/csi/release/syncer`                                                                                                                                                                                                                                    |
| `webhook.image.tag`                                           | webhook image tag (immutable tags are recommended)                                                        | `v3.5.0`                                                                                                                                                                                                                                                                       |
| `webhook.image.pullPolicy`                                    | webhook image pull policy                                                                                 | `IfNotPresent`                                                                                                                                                                                                                                                                 |
| `webhook.image.pullSecrets`                                   | webhook image pull secrets                                                                                | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.image.debug`                                         | Enable image debug mode                                                                                   | `false`                                                                                                                                                                                                                                                                        |
| `webhook.replicaCount`                                        | Number of webhook replicas to deploy                                                                      | `1`                                                                                                                                                                                                                                                                            |
| `webhook.livenessProbe.enabled`                               | Enable livenessProbe on webhook pods                                                                      | `false`                                                                                                                                                                                                                                                                        |
| `webhook.livenessProbe.httpGet.path`                          | Path for HTTPGet Livenessprobe                                                                            | `/healthz`                                                                                                                                                                                                                                                                     |
| `webhook.livenessProbe.httpGet.port`                          | Path for HTTPGet Livenessprobe                                                                            | `healthz`                                                                                                                                                                                                                                                                      |
| `webhook.livenessProbe.initialDelaySeconds`                   | Initial delay seconds for livenessProbe                                                                   | `10`                                                                                                                                                                                                                                                                           |
| `webhook.livenessProbe.periodSeconds`                         | Period seconds for livenessProbe                                                                          | `5`                                                                                                                                                                                                                                                                            |
| `webhook.livenessProbe.timeoutSeconds`                        | Timeout seconds for livenessProbe                                                                         | `5`                                                                                                                                                                                                                                                                            |
| `webhook.livenessProbe.failureThreshold`                      | Failure threshold for livenessProbe                                                                       | `3`                                                                                                                                                                                                                                                                            |
| `webhook.readinessProbe.enabled`                              | Enable readinessProbe on webhook pods                                                                     | `false`                                                                                                                                                                                                                                                                        |
| `webhook.readinessProbe.initialDelaySeconds`                  | Initial delay seconds for readinessProbe                                                                  | `foo`                                                                                                                                                                                                                                                                          |
| `webhook.readinessProbe.periodSeconds`                        | Period seconds for readinessProbe                                                                         | `bar`                                                                                                                                                                                                                                                                          |
| `webhook.readinessProbe.timeoutSeconds`                       | Timeout seconds for readinessProbe                                                                        | `foo`                                                                                                                                                                                                                                                                          |
| `webhook.readinessProbe.failureThreshold`                     | Failure threshold for readinessProbe                                                                      | `bar`                                                                                                                                                                                                                                                                          |
| `webhook.readinessProbe.successThreshold`                     | Success threshold for readinessProbe                                                                      | `foo`                                                                                                                                                                                                                                                                          |
| `webhook.customLivenessProbe`                                 | Custom livenessProbe that overrides the default one                                                       | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.customReadinessProbe`                                | Custom readinessProbe that overrides the default one                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.resources.limits`                                    | The resources limits for the webhook containers                                                           | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.resources.requests`                                  | The requested resources for the webhook containers                                                        | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.dnsPolicy`                                           | set DNS Policy                                                                                            | `Default`                                                                                                                                                                                                                                                                      |
| `webhook.podSecurityContext.enabled`                          | Enabled webhook pods' Security Context                                                                    | `false`                                                                                                                                                                                                                                                                        |
| `webhook.podSecurityContext.fsGroup`                          | Set webhook pod's Security Context fsGroup                                                                | `1001`                                                                                                                                                                                                                                                                         |
| `webhook.containerSecurityContext.enabled`                    | Enabled webhook containers' Security Context                                                              | `undefined`                                                                                                                                                                                                                                                                    |
| `webhook.containerSecurityContext.privileged`                 | Set webhook containers' Security Context privileged                                                       | `undefined`                                                                                                                                                                                                                                                                    |
| `webhook.containerSecurityContext.allowPrivilegeEscalation`   | Set webhook containers' Security Context allowPrivilegeEscalation                                         | `undefined`                                                                                                                                                                                                                                                                    |
| `webhook.existingConfigmap`                                   | The name of an existing ConfigMap with your custom configuration for webhook                              | `nil`                                                                                                                                                                                                                                                                          |
| `webhook.command`                                             | Override default container command (useful when using custom images)                                      | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.args`                                                | Override default container args (useful when using custom images)                                         | `["--operation-mode=WEBHOOK_SERVER","--fss-name=internal-feature-states.csi.vsphere.vmware.com","--fss-namespace=$(CSI_NAMESPACE)"]`                                                                                                                                           |
| `webhook.hostAliases`                                         | webhook pods host aliases                                                                                 | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.podLabels`                                           | Extra labels for webhook pods                                                                             | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.podAnnotations`                                      | Annotations for webhook pods                                                                              | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.podAffinityPreset`                                   | Pod affinity preset. Ignored if `webhook.affinity` is set. Allowed values: `soft` or `hard`               | `""`                                                                                                                                                                                                                                                                           |
| `webhook.podAntiAffinityPreset`                               | Pod anti-affinity preset. Ignored if `webhook.affinity` is set. Allowed values: `soft` or `hard`          | `soft`                                                                                                                                                                                                                                                                         |
| `webhook.nodeAffinityPreset.type`                             | webhook affinity preset type. Ignored if `webhook.affinity` is set. Allowed values: `soft` or `hard`      | `""`                                                                                                                                                                                                                                                                           |
| `webhook.nodeAffinityPreset.key`                              | webhook label key to match. Ignored if `webhook.affinity` is set                                          | `""`                                                                                                                                                                                                                                                                           |
| `webhook.nodeAffinityPreset.values`                           | webhook label values to match. Ignored if `webhook.affinity` is set                                       | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.affinity`                                            | Affinity for webhook pods assignment                                                                      | `undefined`                                                                                                                                                                                                                                                                    |
| `webhook.nodeSelector`                                        | Node labels for webhook pods assignment                                                                   | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.tolerations`                                         | Tolerations for webhook pods assignment                                                                   | `see values.yaml`                                                                                                                                                                                                                                                              |
| `webhook.updateStrategy.type`                                 | webhook statefulset strategy type                                                                         | `RollingUpdate`                                                                                                                                                                                                                                                                |
| `webhook.priorityClassName`                                   | webhook pods' priorityClassName                                                                           | `""`                                                                                                                                                                                                                                                                           |
| `webhook.lifecycleHooks`                                      | for the webhook container(s) to automate configuration before or after startup                            | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.extraEnvVars`                                        | Array with extra environment variables to add to webhook pods                                             | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.extraEnvVarsCM`                                      | Name of existing ConfigMap containing extra env vars for webhook pods                                     | `nil`                                                                                                                                                                                                                                                                          |
| `webhook.extraEnvVarsSecret`                                  | Name of existing Secret containing extra env vars for webhook pods                                        | `nil`                                                                                                                                                                                                                                                                          |
| `webhook.extraVolumes`                                        | Optionally specify extra list of additional volumes for the webhook pod(s)                                | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.extraVolumeMounts`                                   | Optionally specify extra list of additional volumeMounts for the webhook container(s)                     | `[]`                                                                                                                                                                                                                                                                           |
| `webhook.sidecars`                                            | Add additional sidecar containers to the webhook pod(s)                                                   | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.initContainers`                                      | Add additional init containers to the webhook pod(s)                                                      | `{}`                                                                                                                                                                                                                                                                           |
| `webhook.serviceAccount.create`                               | Specifies whether a ServiceAccount should be created                                                      | `true`                                                                                                                                                                                                                                                                         |
| `webhook.serviceAccount.name`                                 | The name of the ServiceAccount to use.                                                                    | `""`                                                                                                                                                                                                                                                                           |

### Metrics Parameters

| Name                                       | Description                                                                       | Value   |
| ------------------------------------------ | --------------------------------------------------------------------------------- | ------- |
| `metrics.enabled`                          | Start metrics                                                                     | `false` |
| `metrics.podAnnotations`                   | Annotations for Cert Manager exporter pods                                        | `{}`    |
| `metrics.serviceMonitor.enabled`           | if true, a ServiceMonitor CR is created                                           | `false` |
| `metrics.serviceMonitor.namespace`         | Namespace which Prometheus is running in                                          | `""`    |
| `metrics.serviceMonitor.jobLabel`          | The name of the label on the target service to use as the job name in prometheus. | `""`    |
| `metrics.serviceMonitor.interval`          | Interval at which metrics should be scraped                                       | `60s`   |
| `metrics.serviceMonitor.scrapeTimeout`     | Timeout after which the scrape is ended                                           | `30s`   |
| `metrics.serviceMonitor.relabelings`       | RelabelConfigs to apply to samples before scraping                                | `[]`    |
| `metrics.serviceMonitor.metricRelabelings` | MetricRelabelConfigs to apply to samples before ingestion                         | `[]`    |
| `metrics.serviceMonitor.selector`          | ServiceMonitor selector labels                                                    | `{}`    |
| `metrics.serviceMonitor.labels`            | Extra labels for the ServiceMonitor                                               | `{}`    |
| `metrics.serviceMonitor.additionalLabels`  | DEPRECATED. Use metrics.serviceMonitor.labels instead.                            | `{}`    |
| `metrics.serviceMonitor.honorLabels`       | honorLabels chooses the metric's labels on collisions with target labels          | `false` |

### Init Container Parameters


### Other Parameters

| Name          | Description                                        | Value  |
| ------------- | -------------------------------------------------- | ------ |
| `rbac.create` | Specifies whether RBAC resources should be created | `true` |

### Subchart parameters

| Name                  | Description                                                 | Value   |
| --------------------- | ----------------------------------------------------------- | ------- |
| `vsphere-cpi.enabled` | Specifies whether CPI subchart resources should be deployed | `false` |


## Configuration and installation details

A YAML file that specifies the values for the above parameters can be provided while installing the chart. For example,

```console
helm install my-release -f values.yaml vsphere-tmm/vsphere-csi
```

> **Tip**: You can use the default [values.yaml](values.yaml)

### Additional environment variables

In case you want to add extra environment variables (useful for advanced operations like custom init scripts), you can use the `extraEnvVars` property.

```yaml
vsphere-csi:
  extraEnvVars:
    - name: LOG_LEVEL
      value: error
```

Alternatively, you can use a ConfigMap or a Secret with the environment variables. To do so, use the `extraEnvVarsCM` or the `extraEnvVarsSecret` values.

### Sidecars

If additional containers are needed in the same pod as vsphere-csi (such as additional metrics or logging exporters), they can be defined using the `sidecars` parameter. If these sidecars export extra ports, extra port definitions can be added using the `service.extraPorts` parameter. [Learn more about configuring and using sidecar containers](https://docs.bitnami.com/kubernetes/apps/vsphere-csi/administration/configure-use-sidecars/).

### Pod affinity

This chart allows you to set your custom affinity using the `affinity` parameter. Find more information about Pod affinity in the [kubernetes documentation](https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity).

As an alternative, use one of the preset configurations for pod affinity, pod anti-affinity, and node affinity available at the [bitnami/common](https://github.com/bitnami/charts/tree/master/bitnami/common#affinities) chart. To do so, set the `podAffinityPreset`, `podAntiAffinityPreset`, or `nodeAffinityPreset` parameters.

### Global mode

`global.mode` can be used to deploy vsphere-csi controller in a management cluster and the rest in a workload cluster.

Usage:

- Create `values-workload-cluster1.yaml`:

  ```yaml
  # values-workload-cluster1.yaml
  global:
    mode: workload
    config:
      storageclass:
        enabled: true

  controller:
    config:
      improved-volume-topology: false
  ```

- Create `values-mgmt-cluster1.yaml`:

  ```yaml
  # values-mgmt-cluster1.yaml
  global:
    mode: management
    config:
      global:
        cluster-id: cluster1
      vcenter:
        your-vcenter-name-here:
          user: use-your-vcenter-user-here
          password: use-your-vcenter-password-here
          datacenters:
            - hrwest
            - hreast

  controller:
    csiNamespace: vsphere-csi
    global:
      extraEnvVarsCM: kubernetes-service
      extraVolumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    extraVolumes:
    - name: kube-api-access
      secret:
        secretName: kube-api-access
  ```

- install on the workload cluster:

```console
$ export KUBECONFIG=cluster1.kubeconfig
$ kubectl create namespace vsphere-csi
namespace/vsphere-csi created
$ helm upgrade --install vsphere-csi vsphere-tmm/vsphere-csi \
  --namespace vsphere-csi \
  --values values-workload-cluster1.yaml
NAME: vsphere-csi
LAST DEPLOYED: Wed Sep 28 15:46:42 2022
NAMESPACE: vsphere-csi
STATUS: deployed
REVISION: 1
TEST SUITE: None
```

- install on the management cluster:

  ```console
  $ export KUBECONFIG=mgmt.kubeconfig
  $ kubectl create namespace vsphere-csi-cluster1
  namespace/vsphere-csi-cluster1 created
  $ helm upgrade --install vsphere-csi-cluster1 vsphere-tmm/vsphere-csi \
    --namespace vsphere-csi-cluster1 \
    --values values-mgmt-cluster1.yaml
  NAME: vsphere-csi-cluster1
  LAST DEPLOYED: Wed Sep 28 15:50:22 2022
  NAMESPACE: vsphere-csi-cluster1
  STATUS: deployed
  REVISION: 1
  TEST SUITE: None
  ```

- Create `KUBECONFIG`:

  ```console
  $ export KUBECONFIG=cluster1.kubeconfig
  $ ca_crt="$(kubectl get secret -n vsphere-csi vsphere-csi-controller -ojsonpath={.data.'ca\.crt'} | base64 -d)"
  $ token="$(kubectl get secret -n vsphere-csi vsphere-csi-controller -ojsonpath={.data.token} | base64 -d)"
  $ host_port="$(kubectl config view -ojson | jq .clusters[0].cluster.server -r | cut -d / -f3)"
  $ KUBERNETES_SERVICE_HOST="$(echo "$host_port" | cut -d: -f1)"
  $ KUBERNETES_SERVICE_PORT="$(echo "$host_port" | cut -d: -f2)"

  $ export KUBECONFIG=cluster1.kubeconfig
  $ kubectl create secret -n vsphere-csi-cluster1 generic kube-api-access \
      --from-literal="token=$token" \
      --from-literal="ca.crt=$ca_crt" \
      --from-literal="namespace=vsphere-csi"
  $ kubectl create configmap -n vsphere-csi-cluster1 kubernetes-service \
      --from-literal="KUBERNETES_SERVICE_HOST=$KUBERNETES_SERVICE_HOST" \
      --from-literal="KUBERNETES_SERVICE_PORT=$KUBERNETES_SERVICE_PORT" \
      --from-literal="namespace=vsphere-csi"
  ```


## Troubleshooting

Find more information about how to deal with common errors related to Bitnami's Helm charts in [this troubleshooting guide](https://docs.bitnami.com/general/how-to/troubleshoot-helm-chart-issues).
